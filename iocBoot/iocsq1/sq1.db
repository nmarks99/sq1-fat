record(mbbo,"$(P)Command")
{
    field(PINI, 1)
    field(ZRST, "Move")
    field(ONST, "Cancel")
    field(TWST, "Pause")
    field(THST, "Resume")
    field(FRST, "Home")
    field(FVST, "Initialize")
    field(SXST, "Cap")
    field(SVST, "Cap Release")
    field(EIST, "Cap Cartesian")
    field(FLNK, "$(P)CommandCalcLua.PROC")
}

record(luascript, "$(P)CommandCalcLua")
{
    field(INPA, "$(P)Command.VAL")
    field(CODE, "@sq1.lua get_command_string()")
    field(OUT, "26IDRobot:CMD CP")
}

# if you wanted to do this, note it needs to be
# Raw Soft Channel
# record(bi, "$(P)RobotPower")
# {
    # field(DTYP, "Raw Soft Channel")
    # field(INP, "26IDRobot:RP CP")
# }
